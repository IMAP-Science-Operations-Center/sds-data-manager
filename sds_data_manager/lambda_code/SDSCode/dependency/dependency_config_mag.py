"""Stores the downstream and upstream dependency configuration of MAG.

This is used to populate pre-processing dependency table in the database.

NOTE: This setup assumes that we get one data file with multiple APIDs data.
This is why we have only one dependency for l0. We expect that we get one
l0 file, eg. imap_mag_l0_raw_20240529_v001.pkts, which contains all the data of all
APIDs. That l0 data file will kick off one l1a process for 'all' as l1a will produce
multiple files with different descriptor(aka different data product per APID). Those
different descriptor are handled by CDF attrs.
"""

from ..database.models import PreProcessingDependency

downstream_dependents = [
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l0",
        primary_descriptor="raw",
        dependent_instrument="mag",
        dependent_data_level="l1a",
        dependent_descriptor="all",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1a",
        primary_descriptor="normal-mago",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="normal-mago",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1a",
        primary_descriptor="normal-magi",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="normal-magi",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1a",
        primary_descriptor="burst-mago",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="burst-mago",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1a",
        primary_descriptor="burst-magi",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="burst-magi",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="normal-mago",
        dependent_instrument="mag",
        dependent_data_level="l1c",
        dependent_descriptor="normal-mago",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    # TODO: check and update later
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="normal-mago",
        dependent_instrument="codice",
        dependent_data_level="l3b",
        dependent_descriptor="sci",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="normal-magi",
        dependent_instrument="mag",
        dependent_data_level="l1c",
        dependent_descriptor="normal-magi",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="burst-mago",
        dependent_instrument="mag",
        dependent_data_level="l1c",
        dependent_descriptor="burst-mago",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="burst-magi",
        dependent_instrument="mag",
        dependent_data_level="l1c",
        dependent_descriptor="burst-magi",
        relationship="HARD",
        direction="DOWNSTREAM",
    ),
]

upstream_dependents = [
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1a",
        primary_descriptor="all",
        dependent_instrument="mag",
        dependent_data_level="l0",
        dependent_descriptor="raw",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="normal-mago",
        dependent_instrument="mag",
        dependent_data_level="l1a",
        dependent_descriptor="normal-mago",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="normal-magi",
        dependent_instrument="mag",
        dependent_data_level="l1a",
        dependent_descriptor="normal-magi",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="burst-mago",
        dependent_instrument="mag",
        dependent_data_level="l1a",
        dependent_descriptor="burst-mago",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1b",
        primary_descriptor="burst-magi",
        dependent_instrument="mag",
        dependent_data_level="l1a",
        dependent_descriptor="burst-magi",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1c",
        primary_descriptor="normal-mago",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="normal-mago",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1c",
        primary_descriptor="normal-magi",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="normal-magi",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1c",
        primary_descriptor="burst-mago",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="burst-mago",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    PreProcessingDependency(
        primary_instrument="mag",
        primary_data_level="l1c",
        primary_descriptor="burst-magi",
        dependent_instrument="mag",
        dependent_data_level="l1b",
        dependent_descriptor="burst-magi",
        relationship="HARD",
        direction="UPSTREAM",
    ),
    # TODO: check and update later
    PreProcessingDependency(
        primary_instrument="hit",
        primary_data_level="l3",
        primary_descriptor="sci",
        dependent_instrument="mag",
        dependent_data_level="l2",
        dependent_descriptor="normal-magi",
        relationship="HARD",
        direction="UPSTREAM",
    ),
]
